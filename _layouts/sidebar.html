<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="sogou_site_verification" content="rgJKcq0tGA" />
  <meta name="shenma-site-verification" content="8d1d8140953cdb9ea2427f9148bf62a6_1742711445">
  <meta name="bytedance-verification-code" content="CNSbCwn/CTVVGJqWDh2q" />
  <meta name="360-site-verification" content="1ac710edca7c0492c0bb15f5764bc000" />
  <title>{{ page.title }}{{ page.subtitle }} - {{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <!-- <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}"> -->
  <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
  <script>LA.init({id:"3LTNMctPRNmiv7MN",ck:"3LTNMctPRNmiv7MN"})</script>
</head>
<body>
  <div class="island-container">
    <!-- åœ¨bodyå†…æ·»åŠ  -->
      <button class="menu-toggle" aria-label="Toggle menu">â˜°</button>
      <div class="sidebar-overlay"></div>
      <div class="sidebar" id="sidebar-container">
          {% assign no_group_pages = "" | split: "," %}
          {% assign grouped_pages = "" | split: "," %}
          {% for p in site.pages %}
              {% unless p.title == nil or p.subtitle == nil %}
              {% assign title_parts = p.title | split: " - " %}
                  {% if title_parts.size > 1 %} 
                      {% assign group = title_parts[0] | strip %} 
                      {% assign grouped_pages = grouped_pages | push: p %} 
                  {% else %} 
                      {% assign no_group_pages = no_group_pages | push: p %} 
                  {% endif %} 
              {% endunless %} 
          {% endfor %}

          <!-- {# æ˜¾ç¤ºæœªåˆ†ç»„å†…å®¹ #} -->
          {% for _page in no_group_pages %} 
              <a href="{{ _page.url | relative_url}}" {% if _page.url==page.url %}class="sidebar-link cur" {% else %}class="sidebar-link" {% endif %}> {{ _page.title }} </a>
          {% endfor %}
          <hr />

          <!-- {# åˆ›å»ºåˆ†ç»„æ˜¾ç¤ºï¼ŒæŒ‰ç…§æ ‡é¢˜æ’åº #} -->
          {% assign groups_init = grouped_pages | group_by_exp: "item", "item.title | split: ' - ' | first | strip" %} 
          {% assign groups = groups_init | sort: "name" %} 
          {% for group in groups %}
              <div class="sidebar-group">
                  <div class="sidebar-group-name lightgrey">
                      {{ group.name }}
                      <hr />
                  </div>
                  {% for _page in group.items %} 
                      {% assign display_title = _page.title | remove_first: group.name | remove_first: " - " %}
                      <a href="{{ _page.url | relative_url }}" {% if _page.url==page.url %}class="sidebar-link cur" {% else %}class="sidebar-link" {% endif %}> {{ display_title }} </a>
                  {% endfor %}
              </div>
              <hr />
          {% endfor %}
          <hr />
          <br /><br /><br /><br /><br />
      </div>

      <div class="content">
          <!-- å¦‚æœå«æœ‰noticeæˆ–è€…essayï¼Œåˆ™æ˜¾ç¤ºå…¬å‘Š -->
          <div class="item">
            <h2 id="{{ page.title | slugify }}">{{ page.title }}</h2>
              {% if page.url contains "notice" or page.url contains "essay" %}
                <em><strong>åŠ å…¥å°ç­å¯ä»¥æŸ¥çœ‹æœ€æ–°å…¬å‘Šå—· </strong></em><br />
                <a href="{{ site.baseurl }}/joinus.html" target="_blank">ğŸ‘‰ ç‚¹æ­¤æŸ¥çœ‹å…¥ç­æ”»ç•¥ ğŸ‘ˆ</a>
                <div class="language-plaintext highlighter-rouge">
                    <div class="highlight">
                      åŸåˆ› @è²é›¾éº¦ç‰‡å’ŒèŠ±å· äºç™¾è¯æ–©å°ç­å…¬å‘Š<br>è°¢ç»è½¬è½½æˆ–AIè®­ç»ƒ<br>æœ¬æ–‡é“¾æ¥
                      <span class="copy-btn skyblue" data-clipboard-text="{{ page.url | absolute_url }}">{{ page.url | absolute_url }}</span>
                    </div>
                </div>
              {% endif %} 
          </div>
          {% assign content_paragraphs = content | split: '<p>' %} 
          {% for paragraph in content_paragraphs %}
              <div {% if page.url contains "notice" or page.url contains "essay" %}class="item nocopy" {% else %}class="item" {% endif %}>
                  {{ paragraph }}
              </div>
          {% endfor %}
          <div class="footer item">ystkc.github.io<br /><br />Cereanillaéº¦èŠ±</div>
      </div>
      <div class="fixed-footer"></div>
</body>
<script type="text/javascript" src="https://js.users.51.la/21949163.js"></script>
<script>
  const fadeController = {
    elements: [],
    init() {
      this.elements = [...document.querySelectorAll('.item')];
      this.addListeners();
      const vh = window.innerHeight;
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.7, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    },
    reinit() {
      this.elements = [...document.querySelectorAll('.item')];
      const vh = window.innerHeight;
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.7, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    },
    addListeners() {
      let lastTime = 0;
      const throttle = 100; // ms
      
      window.addEventListener('scroll', () => {
        const now = Date.now();
        if(now - lastTime > throttle) {
          requestAnimationFrame(this.updateElements.bind(this));
          lastTime = now;
        }
      });
    },
    updateElements() {
      const vh = window.innerHeight;
      
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.7, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    }
  };
  function addCopyListener(element) {
    element.addEventListener("click", function () {
      navigator.clipboard.writeText(element.innerText).then(
        () => {alert("å¤åˆ¶æˆåŠŸawa");},
        (err) => {
          // å°è¯•ä½¿ç”¨ execCommand è¿›è¡Œå¤åˆ¶
          try {
            // é€‰ä¸­å…ƒç´ 
            var range = document.createRange();
            range.selectNode(element);
            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            // æ‰§è¡Œå¤åˆ¶
            if (document.execCommand("copy")) alert("å¤åˆ¶æˆåŠŸÏ‰â–¼Ï‰");
            else alert("å¤åˆ¶å¤±è´¥Ï‰Î”Ï‰è¯·æ‰‹åŠ¨å¤åˆ¶");
            // å–æ¶ˆé€‰ä¸­å…ƒç´ 
            selection.removeAllRanges();
          } catch (e) {
            alert("å¤åˆ¶å¤±è´¥qwqè¯·æ‰‹åŠ¨å¤åˆ¶", e);
          }
        }
      );
    });
  }
  function addCopyButton(element=null) {
    if (element) {
      addCopyListener(element);
    } else {
      document.querySelectorAll(".copy-btn").forEach(function (btn) {
        addCopyListener(btn);
      });
    }
  }
  document.addEventListener("DOMContentLoaded", function () {
    fadeController.init();
    addCopyButton();
    
    // æ·»åŠ ç§»åŠ¨ç›¸åº”å¼å¸ƒå±€
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.querySelector('.sidebar-overlay');
    const menuToggle = document.querySelector('.menu-toggle');
    
    // åˆ‡æ¢èœå•æ˜¾ç¤º
    function toggleMenu() {
      sidebar.classList.toggle('active');
      overlay.classList.toggle('active');
    }
    
    // æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    menuToggle.addEventListener('click', toggleMenu);
    
    // é®ç½©å±‚ç‚¹å‡»å…³é—­
    overlay.addEventListener('click', toggleMenu);
    
    // ESCé”®å…³é—­èœå•
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && sidebar.classList.contains('active')) {
        toggleMenu();
      }
    });
  });
</script>
</html>