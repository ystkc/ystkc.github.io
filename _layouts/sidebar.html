<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ page.title }} - {{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <link rel="stylesheet" href="{{ '/assets/main.css' | relative_url }}">
  <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
  <script>LA.init({id:"3LTNMctPRNmiv7MN",ck:"3LTNMctPRNmiv7MN"})</script>
</head>
<body>
  <div class="sidebar" id="sidebar-container">
    {% assign no_group_pages = "" | split: "," %}
    {% assign grouped_pages = "" | split: "," %}
    
    {% for p in site.pages %}
      {% unless p.title == nil %}
        {% assign title_parts = p.title | split: " - " %}
        {% if title_parts.size > 1 %}
          {% assign group = title_parts[0] | strip %}
          {% assign grouped_pages = grouped_pages | push: p %}
        {% else %}
          {% assign no_group_pages = no_group_pages | push: p %}
        {% endif %}
      {% endunless %}
    {% endfor %}

    <!-- {# æ˜¾ç¤ºæœªåˆ†ç»„å†…å®¹ #} -->
    {% for _page in no_group_pages %}
      <a href="{{ _page.url | relative_url }}"
       {% if _page.url == page.url %}class="sidebar-link cur"{% else %}class="sidebar-link"{% endif %} >
        {{ _page.title }}
      </a>
    {% endfor %}
    <hr>

    <!-- {# åˆ›å»ºåˆ†ç»„æ˜¾ç¤º #} -->
    {% assign groups = grouped_pages | group_by_exp: "item", "item.title | split: ' - ' | first | strip" %}
    {% for group in groups %}
      <div class="sidebar-group">
        <div class="sidebar-group-name">{{ group.name }}<hr></div>
        {% for _page in group.items %}
          {% assign display_title = _page.title | remove_first: group.name | remove_first: " - " %}
          <a href="{{ _page.url | relative_url }}"
            {% if _page.url == page.url %}class="sidebar-link cur"{% else %}class="sidebar-link"{% endif %} >
            {{ display_title }}
          </a>
        {% endfor %}
      </div>
    {% endfor %}
    <hr>
  </div>

  <div class="content">
    {% if page.url contains "notice" %}
      <h2 id="{{ page.title | slugify }}">{{ page.title }}</h2>
      ğŸ’¥ é¡ºå¸¦å®£ä¼ ä¸€ä¸‹ï¼Œ<em><strong>åŠ å…¥å°ç­å¯ä»¥æŸ¥çœ‹æœ€æ–°å…¬å‘Šå—· </strong></em><br>
      <a href="{{ site.baseurl }}/joinus.html" target="_blank">ğŸ‘‰ ç‚¹æ­¤æŸ¥çœ‹å…¥ç­æ”»ç•¥ ğŸ‘ˆ</a><p></p>
      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åŸåˆ› @è²é›¾éº¦ç‰‡å’ŒèŠ±å· äºç™¾è¯æ–©å°ç­å…¬å‘Š
è°¢ç»å•†ç”¨æˆ–AIè®­ç»ƒ
è½¬è½½è¯·æ ‡æ˜å‡ºå¤„å’ŒåŸæ–‡é“¾æ¥</code></pre></div></div>
    {% endif %}
    {% assign content_paragraphs = content | split: '<p>' %}
    {% for paragraph in content_paragraphs %}
      <div class="item">{{ paragraph }}</div>
    {% endfor %}
  </div>
<div id="vue-app"></div>
<br><br><br>
</body>
<script src="{{ '/assets/js/bundle.js' | relative_url }}"></script>
<script type="text/javascript" src="https://js.users.51.la/21949163.js"></script>
<script>
  const fadeController = {
    elements: [],
    init() {
      this.elements = [...document.querySelectorAll('.item')];
      this.addListeners();
      const vh = window.innerHeight;
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.5, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    },
    reinit() {
      this.elements = [...document.querySelectorAll('.item')];
      const vh = window.innerHeight;
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.5, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    },
    addListeners() {
      let lastTime = 0;
      const throttle = 100; // ms
      
      window.addEventListener('scroll', () => {
        const now = Date.now();
        if(now - lastTime > throttle) {
          requestAnimationFrame(this.updateElements.bind(this));
          lastTime = now;
        }
      });
    },
    updateElements() {
      const vh = window.innerHeight;
      
      this.elements.forEach(el => {
        const rect = el.getBoundingClientRect();
        const ratio = Math.min((vh - rect.top) / (vh + rect.height) + 0.5, 1);
        el.style.opacity = Math.max(ratio, 0);
        el.style.transform = `translateY(${(1 - ratio) * 120}px)`;
      });
    }
  };
  function addCopyListener(element) {
    element.addEventListener("click", function () {
      navigator.clipboard.writeText(element.innerText).then(
        () => {alert("å¤åˆ¶æˆåŠŸawa");},
        (err) => {
          // å°è¯•ä½¿ç”¨ execCommand è¿›è¡Œå¤åˆ¶
          try {
            // é€‰ä¸­å…ƒç´ 
            var range = document.createRange();
            range.selectNode(element);
            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            // æ‰§è¡Œå¤åˆ¶
            if (document.execCommand("copy")) alert("å¤åˆ¶æˆåŠŸÏ‰â–¼Ï‰");
            else alert("å¤åˆ¶å¤±è´¥Ï‰Î”Ï‰è¯·æ‰‹åŠ¨å¤åˆ¶");
            // å–æ¶ˆé€‰ä¸­å…ƒç´ 
            selection.removeAllRanges();
          } catch (e) {
            alert("å¤åˆ¶å¤±è´¥qwqè¯·æ‰‹åŠ¨å¤åˆ¶", e);
          }
        }
      );
    });
  }
  function addCopyButton(element=null) {
    if (element) {
      addCopyListener(element);
    } else {
      document.querySelectorAll(".copy-btn").forEach(function (btn) {
        addCopyListener(btn);
      });
    }
  }
  document.addEventListener("DOMContentLoaded", function () {
    fadeController.init();
    addCopyButton();
  });
</script>
</html>